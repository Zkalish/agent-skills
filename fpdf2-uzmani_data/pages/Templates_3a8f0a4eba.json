{
  "url": "https://py-pdf.github.io/fpdf2/Templates.html",
  "title": "Templates¶",
  "content": "Templates are a fpdf2 feature that define predefined documents (like invoices, tax forms, etc.), or parts of such documents, where each element (text, lines, barcodes, etc.) has a fixed position (x1, y1, x2, y2), style (font, size, etc.) and a default text.\n\nThese elements can act as placeholders, so the program can change the default text \"filling in\" the document.\n\nBesides being defined in code, the elements can also be defined in a CSV file, a JSON file, or in a database, so the user can easily adapt the form to his printing needs.\n\nA template is used like a dict, setting its items' values.\n\nThere are two approaches to using templates:\n\nThe traditional approach is to use the Template class. This class accepts one template definition, and can apply it to each page of a document. The usage pattern here is:\n\nThe Template class will create and manage its own FPDF instance, so you don't need to worry about how it all works together. It also allows to set the page format, title of the document, measuring unit, and other metadata for the PDF file.\n\nCheck the dedicated page for the full method signatures: Template.\n\nYou can also check the unit tests in test_template.py for more usage examples of Template.\n\nSetting text values for specific template items is done by treating the class as a dict, with the name of the item as the key:\n\nWhen more flexibility is desired, then the FlexTemplate class comes into play. In this case, you first need to create your own FPDF instance. You can then pass this to the constructor of one or several FlexTemplate instances, and have each of them load a template definition. For any page of the document, you can set text values on a template, and then render it on that page. After rendering, the template will be reset to its default values.\n\nEvidently, this can end up quite a bit more involved, but there are hardly any limits on how you can combine templated and non-templated content on each page. Just think of the different templates as of building blocks, like configurable rubber stamps, which you can apply in any combination on any page you like.\n\nOf course, you can just as well use a set of full-page templates, possibly differentiating between cover page, table of contents, normal content pages, and an index page, or something along those lines.\n\nAnd here's how you can use a template several times on one page (and by extension, several times on several pages). When rendering with an offsetx and/or offsety argument, the contents of the template will end up in a different place on the page. A rotate argument will change its orientation, rotated around the origin of the template. The pivot of the rotation is the offset location. And finally, a scale argument allows you to insert the template larger or smaller than it was defined.\n\nCheck the dedicated page for the full method signatures: FlexTemplate.\n\nYou can also check the unit tests in test_flextemplate.py for more usage examples of FlexTemplate.\n\nThe dict syntax for setting text values is the same as above:\n\nA template definition consists of a number of elements, which have the following properties (columns in a CSV, items in a dict, name/value pairs in a JSON object, fields in a database). Dimensions (except font size, which always uses points) are given in user defined units (default: mm). Those are the units that can be specified when creating a Template or a FPDF instance.\n\nFields that are not relevant to a specific element type will be ignored there, but if not left empty, they must still adhere to the specified data type (in dicts, string fields may be None).\n\nA template can be created in several ways:\n\nThe JSON file must consist of an array of objects. Each object with its name/value pairs define a template element:\n\nThen you import and use that template as follows:\n\nYou can define template elements in a CSV file template_definition.csv. It can look like this: line0;L;20.0;12.0;190.0;12.0;times;0.5;0;0;0;0;16777215;C;;0;0;0.0 line1;L;20.0;36.0;190.0;36.0;times;0.5;0;0;0;0;16777215;C;;0;0;0.0 name0;T;21.0;14.0;104.0;25.0;times;16.0;0;0;0;0;16777215;L;name;2;0;0.0 title0;T;21.0;26.0;104.0;30.0;times;10.0;0;0;0;0;16777215;L;title;2;0;0.0 multiline;T;21.0;50.0;28.0;54.0;times;10.5;0;0;0;0;0xffff00;L;multi line;0;1;0.0 numeric_text;T;21.0;80.0;100.0;84.0;times;10.5;0;0;0;0;;R;007;0;0;0.0 empty_fields;T;21.0;100.0;100.0;104.0 rotated;T;21.0;80.0;100.0;84.0;times;10.5;0;0;0;0;;R;ROTATED;0;0;30.0\n\nRemember that each line represents an element and each field represents one of the properties of the element in the following order: ('name','type','x1','y1','x2','y2','font','size','bold','italic','underline','foreground','background','align','text','priority', 'multiline', 'rotate', 'wrapmode') As noted above, most fields may be left empty, so a line is valid with only 6 items. The empty_fields line of the example demonstrates all that can be left away. In addition, for the barcode types, x2 may be empty.\n\nThen you can use the file like this:",
  "headings": [
    {
      "level": "h1",
      "text": "Templates¶",
      "id": "templates"
    },
    {
      "level": "h2",
      "text": "Using Template¶",
      "id": "using-template"
    },
    {
      "level": "h2",
      "text": "Using FlexTemplate¶",
      "id": "using-flextemplate"
    },
    {
      "level": "h2",
      "text": "Details - Template definition¶",
      "id": "details-template-definition"
    },
    {
      "level": "h2",
      "text": "How to create a template¶",
      "id": "how-to-create-a-template"
    },
    {
      "level": "h3",
      "text": "Example - Python dict¶",
      "id": "example-python-dict"
    },
    {
      "level": "h3",
      "text": "Example - Elements defined in JSON file¶",
      "id": "example-elements-defined-in-json-file"
    },
    {
      "level": "h3",
      "text": "Example - Elements defined in CSV file¶",
      "id": "example-elements-defined-in-csv-file"
    }
  ],
  "code_samples": [
    {
      "code": "tmpl = Template(elements=elements)\n# first page and content\ntmpl.add_page()\ntmpl[item_key_01] = \"Text 01\"\ntmpl[item_key_02] = \"Text 02\"\n...\n\n# second page and content\ntmpl.add_page()\ntmpl[item_key_01] = \"Text 11\"\ntmpl[item_key_02] = \"Text 12\"\n...\n\n# possibly more pages\n...\n\n# finalize document and write to file\ntmpl.render(outfile=\"example.pdf\")",
      "language": "markdown"
    },
    {
      "code": "Template[\"company_name\"] = \"Sample Company\"",
      "language": "unknown"
    },
    {
      "code": "from fpdf import FlexTemplate, FPDF\n\npdf = FPDF()\npdf.add_page()\n# One template for the first page\nfp_tmpl = FlexTemplate(pdf, elements=fp_elements)\nfp_tmpl[\"item_key_01\"] = \"Text 01\"\nfp_tmpl[\"item_key_02\"] = \"Text 02\"\n...\nfp_tmpl.render() # add template items to first page\n\n# add some more non-template content to the first page\npdf.polyline(point_list, fill=False, polygon=False)\n\n# second page\npdf.add_page()\n# header for the second page\nh_tmpl = FlexTemplate(pdf, elements=h_elements)\nh_tmpl[\"item_key_HA\"] = \"Text 2A\"\nh_tmpl[\"item_key_HB\"] = \"Text 2B\"\n...\nh_tmpl.render() # add header items to second page\n\n# footer for the second page\nf_tmpl = FlexTemplate(pdf, elements=f_elements)\nf_tmpl[\"item_key_FC\"] = \"Text 2C\"\nf_tmpl[\"item_key_FD\"] = \"Text 2D\"\n...\nf_tmpl.render() # add footer items to second page\n\n# other content on the second page\npdf.set_dash_pattern(dash=1, gap=1)\npdf.line(x1, y1, x2, y2):\npdf.set_dash_pattern()\n\n# third page\npdf.add_page()\n# header for the third page, just reuse the same template instance after render()\nh_tmpl[\"item_key_HA\"] = \"Text 3A\"\nh_tmpl[\"item_key_HB\"] = \"Text 3B\"\n...\nh_tmpl.render() # add header items to third page\n\n# footer for the third page\nf_tmpl[\"item_key_FC\"] = \"Text 3C\"\nf_tmpl[\"item_key_FD\"] = \"Text 3D\"\n...\nf_tmpl.render() # add footer items to third page\n\n# other content on the third page\npdf.rect(x, y, w, h, style=None)\n\n# possibly more pages\npdf.add_page()\n...\n...\n\n# finally write everything to a file\npdf.output(\"example.pdf\")",
      "language": "python"
    },
    {
      "code": "from fpdf import FlexTemplate, FPDF\n\npdf = FPDF()\npdf.add_page()\ntempl = FlexTemplate(pdf, [\n    {\"name\":\"box\", \"type\":\"B\", \"x1\":0, \"y1\":0, \"x2\":50, \"y2\":50,},\n    {\"name\":\"d1\", \"type\":\"L\", \"x1\":0, \"y1\":0, \"x2\":50, \"y2\":50,},\n    {\"name\":\"d2\", \"type\":\"L\", \"x1\":0, \"y1\":50, \"x2\":50, \"y2\":0,},\n    {\"name\":\"label\", \"type\":\"T\", \"x1\":0, \"y1\":52, \"x2\":50, \"y2\":57, \"text\":\"Label\",},\n])\ntempl[\"label\"] = \"Offset: 50 / 50 mm\"\ntempl.render(offsetx=50, offsety=50)\ntempl[\"label\"] = \"Offset: 50 / 120 mm\"\ntempl.render(offsetx=50, offsety=120)\ntempl[\"label\"] = \"Offset: 120 / 50 mm, Scale: 0.5\"\ntempl.render(offsetx=120, offsety=50, scale=0.5)\ntempl[\"label\"] = \"Offset: 120 / 120 mm, Rotate: 30°, Scale=0.5\"\ntempl.render(offsetx=120, offsety=120, rotate=30.0, scale=0.5)\npdf.output(\"example.pdf\")",
      "language": "json"
    },
    {
      "code": "FlexTemplate[\"company_name\"] = \"Sample Company\"",
      "language": "unknown"
    },
    {
      "code": "from fpdf import Template\n\n#this will define the ELEMENTS that will compose the template. \nelements = [\n    { 'name': 'company_logo', 'type': 'I', 'x1': 20.0, 'y1': 17.0, 'x2': 78.0, 'y2': 30.0, 'font': None, 'size': 0.0, 'bold': 0, 'italic': 0, 'underline': 0, 'align': 'C', 'text': 'logo', 'priority': 2, 'multiline': False},\n    { 'name': 'company_name', 'type': 'T', 'x1': 17.0, 'y1': 32.5, 'x2': 115.0, 'y2': 37.5, 'font': 'helvetica', 'size': 12.0, 'bold': 1, 'italic': 0, 'underline': 0,'align': 'C', 'text': '', 'priority': 2, 'multiline': False},\n    { 'name': 'multiline_text', 'type': 'T', 'x1': 20, 'y1': 100, 'x2': 40, 'y2': 105, 'font': 'helvetica', 'size': 12, 'bold': 0, 'italic': 0, 'underline': 0, 'background': 0x88ff00, 'align': 'C', 'text': 'Lorem ipsum dolor sit amet, consectetur adipisici elit', 'priority': 2, 'multiline': True, 'wrapmode': 'WORD'},\n    { 'name': 'box', 'type': 'B', 'x1': 15.0, 'y1': 15.0, 'x2': 185.0, 'y2': 260.0, 'font': 'helvetica', 'size': 0.0, 'bold': 0, 'italic': 0, 'underline': 0, 'align': 'C', 'text': None, 'priority': 0, 'multiline': False},\n    { 'name': 'box_x', 'type': 'B', 'x1': 95.0, 'y1': 15.0, 'x2': 105.0, 'y2': 25.0, 'font': 'helvetica', 'size': 0.0, 'bold': 1, 'italic': 0, 'underline': 0, 'align': 'C', 'text': None, 'priority': 2, 'multiline': False},\n    { 'name': 'line1', 'type': 'L', 'x1': 100.0, 'y1': 25.0, 'x2': 100.0, 'y2': 57.0, 'font': 'helvetica', 'size': 0, 'bold': 0, 'italic': 0, 'underline': 0, 'align': 'C', 'text': None, 'priority': 3, 'multiline': False},\n    { 'name': 'barcode', 'type': 'BC', 'x1': 20.0, 'y1': 246.5, 'x2': 140.0, 'y2': 254.0, 'font': 'Interleaved 2of5 NT', 'size': 0.75, 'bold': 0, 'italic': 0, 'underline': 0, 'align': 'C', 'text': '200000000001000159053338016581200810081', 'priority': 3, 'multiline': False},\n]\n\n#here we instantiate the template\nf = Template(format=\"A4\", elements=elements,\n             title=\"Sample Invoice\")\nf.add_page()\n\n#we FILL some of the fields of the template with the information we want\n#note we access the elements treating the template instance as a \"dict\"\nf[\"company_name\"] = \"Sample Company\"\nf[\"company_logo\"] = \"docs/fpdf2-logo.png\"\n\n#and now we render the page\nf.render(\"./template.pdf\")",
      "language": "json"
    },
    {
      "code": "[\n    {\n        \"name\": \"employee_name\",\n        \"type\": \"T\",\n        \"x1\": 20,\n        \"y1\": 75,\n        \"x2\": 118,\n        \"y2\": 90,\n        \"font\": \"helvetica\",\n        \"size\": 12,\n        \"bold\": true,\n        \"underline\": true,\n        \"text\": \"\"\n    }\n]",
      "language": "json"
    },
    {
      "code": "def test_template():\n    f = Template(format=\"A4\", title=\"Template Demo\")\n    f.parse_json(\"myjsonfile.json\")\n    f.add_page()\n    f[\"employee_name\"] = \"Joe Doe\"\n    return f.render(\"./template.pdf\")",
      "language": "python"
    },
    {
      "code": "line0;L;20.0;12.0;190.0;12.0;times;0.5;0;0;0;0;16777215;C;;0;0;0.0\nline1;L;20.0;36.0;190.0;36.0;times;0.5;0;0;0;0;16777215;C;;0;0;0.0\nname0;T;21.0;14.0;104.0;25.0;times;16.0;0;0;0;0;16777215;L;name;2;0;0.0\ntitle0;T;21.0;26.0;104.0;30.0;times;10.0;0;0;0;0;16777215;L;title;2;0;0.0\nmultiline;T;21.0;50.0;28.0;54.0;times;10.5;0;0;0;0;0xffff00;L;multi line;0;1;0.0\nnumeric_text;T;21.0;80.0;100.0;84.0;times;10.5;0;0;0;0;;R;007;0;0;0.0\nempty_fields;T;21.0;100.0;100.0;104.0\nrotated;T;21.0;80.0;100.0;84.0;times;10.5;0;0;0;0;;R;ROTATED;0;0;30.0",
      "language": "unknown"
    },
    {
      "code": "def test_template():\n    f = Template(format=\"A4\",\n                 title=\"Sample Invoice\")\n    f.parse_csv(\"template_definition.csv\", delimiter=\";\")\n    f.add_page()\n    f[\"name0\"] = \"Joe Doe\"\n    return f.render(\"./template.pdf\")",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://py-pdf.github.io/fpdf2/Templates.html",
    "https://py-pdf.github.io/fpdf2/index.html",
    "https://py-pdf.github.io/fpdf2/notebook.html",
    "https://py-pdf.github.io/fpdf2/Tutorial.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-bn.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-de.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-es.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-fr.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-gr.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-he.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-hi.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-id.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-it.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-ja.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-km.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-nl.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-pl.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-pt.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-ru.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-tr.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-zh.html",
    "https://py-pdf.github.io/fpdf2/Tutorial-sl.html",
    "https://py-pdf.github.io/fpdf2/PageFormatAndOrientation.html",
    "https://py-pdf.github.io/fpdf2/Margins.html",
    "https://py-pdf.github.io/fpdf2/TextRegion.html",
    "https://py-pdf.github.io/fpdf2/TextColumns.html",
    "https://py-pdf.github.io/fpdf2/Tables.html",
    "https://py-pdf.github.io/fpdf2/Text.html",
    "https://py-pdf.github.io/fpdf2/LineBreaks.html",
    "https://py-pdf.github.io/fpdf2/PageBreaks.html",
    "https://py-pdf.github.io/fpdf2/TextStyling.html",
    "https://py-pdf.github.io/fpdf2/Unicode.html",
    "https://py-pdf.github.io/fpdf2/TextShaping.html",
    "https://py-pdf.github.io/fpdf2/EmojisSymbolsDingbats.html",
    "https://py-pdf.github.io/fpdf2/HTML.html",
    "https://py-pdf.github.io/fpdf2/Images.html",
    "https://py-pdf.github.io/fpdf2/Shapes.html",
    "https://py-pdf.github.io/fpdf2/Transformations.html",
    "https://py-pdf.github.io/fpdf2/Transparency.html",
    "https://py-pdf.github.io/fpdf2/Patterns.html",
    "https://py-pdf.github.io/fpdf2/Barcodes.html",
    "https://py-pdf.github.io/fpdf2/Drawing.html",
    "https://py-pdf.github.io/fpdf2/SVG.html",
    "https://py-pdf.github.io/fpdf2/Maths.html",
    "https://py-pdf.github.io/fpdf2/Links.html",
    "https://py-pdf.github.io/fpdf2/Metadata.html",
    "https://py-pdf.github.io/fpdf2/Annotations.html",
    "https://py-pdf.github.io/fpdf2/Presentations.html",
    "https://py-pdf.github.io/fpdf2/DocumentOutlineAndTableOfContents.html",
    "https://py-pdf.github.io/fpdf2/PageLabels.html",
    "https://py-pdf.github.io/fpdf2/Encryption.html",
    "https://py-pdf.github.io/fpdf2/Signing.html",
    "https://py-pdf.github.io/fpdf2/FileAttachments.html",
    "https://py-pdf.github.io/fpdf2/pdfa.html",
    "https://py-pdf.github.io/fpdf2/CombineWithPypdf.html",
    "https://py-pdf.github.io/fpdf2/CombineWithMarkdown.html",
    "https://py-pdf.github.io/fpdf2/CombineWithLivereload.html",
    "https://py-pdf.github.io/fpdf2/CombineWithBorb.html",
    "https://py-pdf.github.io/fpdf2/CombineWithPdfrw.html",
    "https://py-pdf.github.io/fpdf2/CombineWithChartingLibs.html",
    "https://py-pdf.github.io/fpdf2/UsageInWebAPI.html",
    "https://py-pdf.github.io/fpdf2/RenderingSpreadsheetsAsPDFTables.html",
    "https://py-pdf.github.io/fpdf2/TemplatingWithJinja.html",
    "https://py-pdf.github.io/fpdf2/CombineWithRoughJS.html",
    "https://py-pdf.github.io/fpdf2/Development.html",
    "https://py-pdf.github.io/fpdf2/Logging.html",
    "https://py-pdf.github.io/fpdf2/Internals.html",
    "https://py-pdf.github.io/fpdf2/fpdf/",
    "https://py-pdf.github.io/fpdf2/History.html",
    "https://py-pdf.github.io/fpdf2/fpdf/template.html",
    "https://py-pdf.github.io/fpdf2/fpdf/fpdf.html"
  ]
}